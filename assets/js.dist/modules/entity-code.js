define(["jquery"],function(e){var t={lineNumbers:!0,lineWrapping:!0},n={init:function(n){var r=e.extend({},t,n.data("config")||{}),i=["codemirror"];r.mode&&i.push("codemirror/mode/"+r.mode+"/"+r.mode),require(i,function(e){var t=n.find("textarea"),i=e.fromTextArea(t[0],r);i.addKeyMap({Tab:function(e){if(e.somethingSelected()){var t=i.getSelection("\n");if(t.length>0&&(t.indexOf("\n")>-1||t.length===e.getLine(e.getCursor().line).length)){e.indentSelection("add");return}}e.options.indentWithTabs?e.execCommand("insertTab"):e.execCommand("insertSoftTab")},"Shift-Tab":function(e){e.indentSelection("subtract")}}),t.data("codemirror",i)})},destroy:function(e){e.find("textarea").data("codemirror").toTextArea()}};return n});