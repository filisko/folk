define(["jquery","handsontable"],function(e,t){var n={stretchH:"all",rowHeaders:!0,colHeaders:!0,contextMenu:!0},r={init:function(r){var i=e("<div></div>").appendTo(r.children("div")),s=r.find("textarea").hide().val().trim(),o=e.extend({},n,r.data("config")||{},{data:s?JSON.parse(s):[["",""],["",""]]}),u=new t(i[0],o);r.data("handsontable",u),r.parents("form").on("submit.entity-table",function(e){var t=u.getData();r.find("textarea").val(JSON.stringify(t))})},destroy:function(e){e.parents("form").off(".entity-table");var t=e.data("handsontable");t.destroy(),e.find("textarea").show(),e.find(".handsontable").remove()}};return r});