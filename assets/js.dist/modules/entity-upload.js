define([],function(){var e={url:null};return{init:function(t){function o(e){var e=i.val();s.find(".ui-value").remove();if(n.url&&e){var t=e.split("/"),r=t.pop(),o=n.url.replace("{path}",t.join("/")).replace("{filename}",r);s.prepend('<a class="button button-link ui-view ui-value" href="'+o+'">'+e+"</a>")}else s.prepend('<small class="ui-value">'+e+"</small>")}var n=$.extend({},e,t.data("config")||{}),r=t.find('input[type="file"]'),i=t.find('input[type="hidden"]'),s=$("<p>");o(),$('<a class="button button-link ui-edit">Edit as text</a>').appendTo(s).click(function(){var e=window.prompt("New value (empty to remove)",i.val());e!==null&&(i.val(e),o())}),s.insertAfter(r)},destroy:function(e){e.find(".ui-edit").remove(),e.find(".ui-value").remove()}}});